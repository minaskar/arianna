
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Reference &#8212; Arianna</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <link rel="canonical" href="https://arianna.readthedocs.io/en/latest/api.html" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Quickstart guide" href="pages/quickstart.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://arianna.readthedocs.io/en/latest/api.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="API Reference" />
<meta property="og:description" content="API Reference  arianna consists mainly of five parts:  The Ensemble Sampler    class arianna.EnsembleSampler(nwalkers, ndim, loglike_fn, logprior_fn, args=None," />


<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Arianna</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="install.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pages/quickstart.html">
   Quickstart guide
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   API Reference
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/api.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/minaskar/arianna"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/minaskar/arianna/issues/new?title=Issue%20on%20page%20%2Fapi.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/minaskar/arianna/edit/main/docs/api.rst"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-ensemble-sampler">
   The Ensemble Sampler
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-chain-manager">
   The Chain Manager
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<p><strong>arianna</strong> consists mainly of five parts:</p>
<div class="section" id="the-ensemble-sampler">
<h2>The Ensemble Sampler<a class="headerlink" href="#the-ensemble-sampler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="arianna.EnsembleSampler">
<em class="property">class </em><code class="sig-prename descclassname">arianna.</code><code class="sig-name descname">EnsembleSampler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nwalkers</span></em>, <em class="sig-param"><span class="n">ndim</span></em>, <em class="sig-param"><span class="n">loglike_fn</span></em>, <em class="sig-param"><span class="n">logprior_fn</span></em>, <em class="sig-param"><span class="n">args</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kwargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">tune</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">patience</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">maxsteps</span><span class="o">=</span><span class="default_value">10000</span></em>, <em class="sig-param"><span class="n">mu</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">maxiter</span><span class="o">=</span><span class="default_value">10000</span></em>, <em class="sig-param"><span class="n">pool</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vectorize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">blobs_dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_walkers</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">shuffle_ensemble</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">light_mode</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>A Metropolis–Coupled Slice Sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwalkers</strong> (<em>int</em>) – The number of walkers in the ensemble.</p></li>
<li><p><strong>ndim</strong> (<em>int</em>) – The number of dimensions/parameters.</p></li>
<li><p><strong>loglike_fn</strong> (<em>callable</em>) – A python function that takes a vector in the
parameter space as input and returns the natural logarithm of the
likelihood function at that position.</p></li>
<li><p><strong>logprior_fn</strong> (<em>callable</em>) – A python function that takes a vector in the
parameter space as input and returns the natural logarithm of the
prior pdf at that position.</p></li>
<li><p><strong>args</strong> (<em>list</em>) – Extra arguments to be passed into the logp.</p></li>
<li><p><strong>kwargs</strong> (<em>list</em>) – Extra arguments to be passed into the logp.</p></li>
<li><p><strong>tune</strong> (<em>bool</em>) – Tune the scale factor to optimize performance (Default is True.)</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – Tuning optimization tolerance (Default is 0.05).</p></li>
<li><p><strong>patience</strong> (<em>int</em>) – Number of tuning steps to wait to make sure that tuning is done (Default is 5).</p></li>
<li><p><strong>maxsteps</strong> (<em>int</em>) – Number of maximum stepping-out steps (Default is 10^4).</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – Scale factor (Default value is 1.0), this will be tuned if tune=True.</p></li>
<li><p><strong>maxiter</strong> (<em>int</em>) – Number of maximum Expansions/Contractions (Default is 10^4).</p></li>
<li><p><strong>pool</strong> (<em>bool</em>) – External pool of workers to distribute workload to multiple CPUs (default is None).</p></li>
<li><p><strong>vectorize</strong> (<em>bool</em>) – If true (default is False), logprob_fn receives not just one point but an array of points, and returns an array of likelihoods.</p></li>
<li><p><strong>blobs_dtype</strong> (<em>list</em>) – List containing names and dtypes of blobs metadata e.g. <code class="docutils literal notranslate"><span class="pre">[(&quot;log_prior&quot;,</span> <span class="pre">float),</span> <span class="pre">(&quot;mean&quot;,</span> <span class="pre">float)]</span></code>. It’s useful when you want to save multiple species of metadata. Default is None.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True (default) print log statements.</p></li>
<li><p><strong>check_walkers</strong> (<em>bool</em>) – If True (default) then check that <code class="docutils literal notranslate"><span class="pre">nwalkers</span> <span class="pre">&gt;=</span> <span class="pre">2*ndim</span></code> and even.</p></li>
<li><p><strong>shuffle_ensemble</strong> (<em>bool</em>) – If True (default) then shuffle the ensemble of walkers in every iteration before splitting it.</p></li>
<li><p><strong>light_mode</strong> (<em>bool</em>) – If True (default is False) then no expansions are performed after the tuning phase. This can significantly reduce the number of log likelihood evaluations but works best in target distributions that are apprroximately Gaussian.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="arianna.EnsembleSampler.act">
<em class="property">property </em><code class="sig-name descname">act</code><a class="headerlink" href="#arianna.EnsembleSampler.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrated Autocorrelation Time (IAT) of the <code class="docutils literal notranslate"><span class="pre">beta</span> <span class="pre">=</span> <span class="pre">1</span></code> Markov Chain.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Array with the IAT of each parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.chain">
<em class="property">property </em><code class="sig-name descname">chain</code><a class="headerlink" href="#arianna.EnsembleSampler.chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the chains.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the chains of shape (nsteps, nwalkers, ndim).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.compute_log_prob">
<code class="sig-name descname">compute_log_prob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coords</span></em>, <em class="sig-param"><span class="n">betas</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.compute_log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the vector of log-probability for the walkers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> – (ndarray[…, ndim]) The position vector in parameter space where the probability should be calculated.</p></li>
<li><p><strong>betas</strong> – (ndarray[…]) The beta values for each walker in <code class="docutils literal notranslate"><span class="pre">coords</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A vector of log-probabilities with one entry for each walker in this sub-ensemble.
log_prior: A vector of log-prior values with one entry for each walker in this sub-ensemble.
log_like: A vector of log-likelihood values with one entry for each walker in this sub-ensemble.
blob: The list of meta data returned by the <code class="docutils literal notranslate"><span class="pre">log_like_fn</span></code> at this position or <code class="docutils literal notranslate"><span class="pre">None</span></code> if nothing was returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>log_prob</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.efficiency">
<em class="property">property </em><code class="sig-name descname">efficiency</code><a class="headerlink" href="#arianna.EnsembleSampler.efficiency" title="Permalink to this definition">¶</a></dt>
<dd><p>Effective Samples per Log Probability Evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>efficiency</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.ess">
<em class="property">property </em><code class="sig-name descname">ess</code><a class="headerlink" href="#arianna.EnsembleSampler.ess" title="Permalink to this definition">¶</a></dt>
<dd><p>Effective Sampling Size (ESS) of the <code class="docutils literal notranslate"><span class="pre">beta</span> <span class="pre">=</span> <span class="pre">1</span></code>  Markov Chain.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ESS</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_blobs">
<code class="sig-name descname">get_blobs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flat</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">thin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">discard</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_blobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the values of the blobs at each step of the chain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flat</strong> (<em>bool</em>) – If True then flatten the chain into a 1D array by combining all walkers (default is False).</p></li>
<li><p><strong>thin</strong> (<em>int</em>) – Thinning parameter (the default value is 1).</p></li>
<li><p><strong>discard</strong> (<em>int</em>) – Number of burn-in steps to be removed from each walker (default is 0). A float number between 0.0 and 1.0 can be used to indicate what percentage of the chain to be discarded as burnin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(structured) numpy array containing the values of the blobs at each step of the chain.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_chain">
<code class="sig-name descname">get_chain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flat</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">thin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">discard</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Markov chain containing the samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flat</strong> (<em>bool</em>) – If True then flatten the chain into a 2D array by combining all walkers (default is False).</p></li>
<li><p><strong>thin</strong> (<em>int</em>) – Thinning parameter (the default value is 1).</p></li>
<li><p><strong>discard</strong> (<em>int</em>) – Number of burn-in steps to be removed from each walker (default is 0). A float number between
0.0 and 1.0 can be used to indicate what percentage of the chain to be discarded as burnin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array object containg the Markov chain samples (2D if flat=True, 3D if flat=False).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_last_blobs">
<code class="sig-name descname">get_last_blobs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_last_blobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the blobs for the last position of the walkers.</p>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_last_log_prob">
<code class="sig-name descname">get_last_log_prob</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_last_log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the log probability values for the last position of the walkers.</p>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_last_sample">
<code class="sig-name descname">get_last_sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_last_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the last position of the walkers.</p>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_log_prob">
<code class="sig-name descname">get_log_prob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flat</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">thin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">discard</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of the log probability function evalutated at the samples of the Markov chain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flat</strong> (<em>bool</em>) – If True then flatten the chain into a 1D array by combining all walkers (default is False).</p></li>
<li><p><strong>thin</strong> (<em>int</em>) – Thinning parameter (the default value is 1).</p></li>
<li><p><strong>discard</strong> (<em>int</em>) – Number of burn-in steps to be removed from each walker (default is 0). A float number between
0.0 and 1.0 can be used to indicate what percentage of the chain to be discarded as burnin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array containing the value of the log probability at the samples of the Markov chain (1D if flat=True, 2D otherwise).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.get_logz">
<code class="sig-name descname">get_logz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">discard</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">correction</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.get_logz" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the log model evidence or log marginal likelihood logZ using the trapezoidal rule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>discard</strong> – (float or int) Number of burn-in steps to be removed from each walker (default is 0).
A float number between 0.0 and 1.0 can be used to indicate what percentage of the chain to be discarded as burnin.</p></li>
<li><p><strong>correction</strong> – (bool) If True (default) then the result is calculated using the <em>Frier et al. (2014)</em> corrected trapezoidal
rule that takes into account the variance of the log-likelihood.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(float) log model evidence</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.ncall">
<em class="property">property </em><code class="sig-name descname">ncall</code><a class="headerlink" href="#arianna.EnsembleSampler.ncall" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of Log Prob calls.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ncall</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the state of the sampler. Delete any samples stored in memory.</p>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.run_mcmc">
<code class="sig-name descname">run_mcmc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">nsteps</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">thin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">log_like0</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log_prior0</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">blobs0</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">thin_by</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.run_mcmc" title="Permalink to this definition">¶</a></dt>
<dd><p>Run MCMC.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>float</em>) – Starting point for the walkers. If <code class="docutils literal notranslate"><span class="pre">None</span></code> then the sampler proceeds
from the last known position of the walkers.</p></li>
<li><p><strong>nsteps</strong> (<em>int</em>) – Number of steps/generations (default is 1000).</p></li>
<li><p><strong>thin</strong> (<em>float</em>) – Thin the chain by this number (default is 1, no thinning).</p></li>
<li><p><strong>progress</strong> (<em>bool</em>) – If True (default), show progress bar.</p></li>
<li><p><strong>log_prob0</strong> (<em>float</em>) – Log probability values of the walkers. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>blobs0</strong> (<em>float</em>) – Blob value of the walkers. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>thin_by</strong> (<em>float</em>) – If you only want to store and yield every
<code class="docutils literal notranslate"><span class="pre">thin_by</span></code> samples in the chain, set <code class="docutils literal notranslate"><span class="pre">thin_by</span></code> to an
integer greater than 1. When this is set, <code class="docutils literal notranslate"><span class="pre">iterations</span> <span class="pre">*</span>
<span class="pre">thin_by</span></code> proposals will be made.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">log_like0</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log_prior0</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">blobs0</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iterations</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">thin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">thin_by</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.EnsembleSampler.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the chain as a generator. The current iteration index of the generator is given by the <code class="docutils literal notranslate"><span class="pre">sampler.iteration</span></code> property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>float</em>) – Starting point for the walkers.</p></li>
<li><p><strong>log_prob0</strong> (<em>float</em>) – Log probability values of the walkers. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>blobs0</strong> (<em>float</em>) – Blob value of the walkers. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>iterations</strong> (<em>int</em>) – Number of steps to generate (default is 1).</p></li>
<li><p><strong>thin</strong> (<em>float</em>) – Thin the chain by this number (default is 1, no thinning).</p></li>
<li><p><strong>thin_by</strong> (<em>float</em>) – If you only want to store and yield every
<code class="docutils literal notranslate"><span class="pre">thin_by</span></code> samples in the chain, set <code class="docutils literal notranslate"><span class="pre">thin_by</span></code> to an
integer greater than 1. When this is set, <code class="docutils literal notranslate"><span class="pre">iterations</span> <span class="pre">*</span>
<span class="pre">thin_by</span></code> proposals will be made.</p></li>
<li><p><strong>progress</strong> (<em>bool</em>) – If True (default), show progress bar.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.EnsembleSampler.scale_factor">
<em class="property">property </em><code class="sig-name descname">scale_factor</code><a class="headerlink" href="#arianna.EnsembleSampler.scale_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale factor values during tuning.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>scale factor mu</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-chain-manager">
<h2>The Chain Manager<a class="headerlink" href="#the-chain-manager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="arianna.ChainManager">
<em class="property">class </em><code class="sig-prename descclassname">arianna.</code><code class="sig-name descname">ChainManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nchains</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">comm</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.ChainManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to serve as context manager to handle to MPI-related issues,
specifically, the managing of <code class="docutils literal notranslate"><span class="pre">MPIPool</span></code> and splitting of communicators.
This class can be used to run <code class="docutils literal notranslate"><span class="pre">nchains</span></code> in parallel with each chain
having its own <code class="docutils literal notranslate"><span class="pre">MPIPool</span></code> of parallel walkers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nchains</strong> (<em>int</em>) – the number of independent chains to run concurrently</p></li>
<li><p><strong>comm</strong> (<em>MPI.Communicator</em>) – the global communicator to split</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="arianna.ChainManager.allgather">
<code class="sig-name descname">allgather</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.ChainManager.allgather" title="Permalink to this definition">¶</a></dt>
<dd><p>Allgather method to gather <code class="docutils literal notranslate"><span class="pre">x</span></code> in all chains. This is equivalent to first <code class="docutils literal notranslate"><span class="pre">scatter</span></code> and then <code class="docutils literal notranslate"><span class="pre">bcast</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>Python object</em>) – The python object to be gathered.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>x</strong> – The python object, gathered in all ranks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Python object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.ChainManager.bcast">
<code class="sig-name descname">bcast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">root</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.ChainManager.bcast" title="Permalink to this definition">¶</a></dt>
<dd><p>Broadcast method to send <code class="docutils literal notranslate"><span class="pre">x</span></code> from <code class="docutils literal notranslate"><span class="pre">rank</span> <span class="pre">=</span> <span class="pre">root</span></code> to all chains.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Python object</em>) – The python object to be send.</p></li>
<li><p><strong>root</strong> (<em>int</em>) – The rank of the origin chain from which the object x is sent.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>x</strong> – The input object x in all ranks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Python object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.ChainManager.gather">
<code class="sig-name descname">gather</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">root</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.ChainManager.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather method to gather <code class="docutils literal notranslate"><span class="pre">x</span></code> in <code class="docutils literal notranslate"><span class="pre">rank</span> <span class="pre">=</span> <span class="pre">root</span></code> chain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Python object</em>) – The python object to be gathered.</p></li>
<li><p><strong>root</strong> (<em>int</em>) – The rank  of the chain that x is gathered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>x</strong> – The input object x gathered in <code class="docutils literal notranslate"><span class="pre">rank</span> <span class="pre">=</span> <span class="pre">root</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Python object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arianna.ChainManager.get_pool">
<em class="property">property </em><code class="sig-name descname">get_pool</code><a class="headerlink" href="#arianna.ChainManager.get_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parallel <code class="docutils literal notranslate"><span class="pre">pool</span></code> of workers that correspond to a specific chain. This should be used to
parallelize the walkers of each <code class="docutils literal notranslate"><span class="pre">chain</span></code> (not the chains themselves). This includes the <code class="docutils literal notranslate"><span class="pre">map</span></code>
method that <code class="docutils literal notranslate"><span class="pre">zeus</span></code> requires.</p>
</dd></dl>

<dl class="py method">
<dt id="arianna.ChainManager.get_rank">
<em class="property">property </em><code class="sig-name descname">get_rank</code><a class="headerlink" href="#arianna.ChainManager.get_rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Get <code class="docutils literal notranslate"><span class="pre">rank</span></code> of current <code class="docutils literal notranslate"><span class="pre">chain</span></code>. The minimum <code class="docutils literal notranslate"><span class="pre">rank</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code> and the maximum is <code class="docutils literal notranslate"><span class="pre">nchains-1</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="arianna.ChainManager.scatter">
<code class="sig-name descname">scatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">root</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arianna.ChainManager.scatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Scatter method to scatter <code class="docutils literal notranslate"><span class="pre">x</span></code> from <code class="docutils literal notranslate"><span class="pre">rank</span> <span class="pre">=</span> <span class="pre">root</span></code> chain to the rest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Python object</em>) – The python object to be scattered.</p></li>
<li><p><strong>root</strong> (<em>int</em>) – The rank of the origin chain from which the x is scattered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>x</strong> – Part of the input object x that was scattered along the ranks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Pythonn object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="pages/quickstart.html" title="previous page">Quickstart guide</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Minas Karamanis<br/>
        
            &copy; Copyright 2021, Minas Karamanis.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>